(this["webpackJsonpblog-testing"]=this["webpackJsonpblog-testing"]||[]).push([[0],{176:function(e,t,n){},272:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(24),c=n.n(a),s=(n(176),n(32)),o=(n.p,n(23)),i=n(65),j=n(6),l=function(e){var t=e.showModal;return Object(j.jsx)(i.a,{onClick:t,type:"primary",ghost:!0,children:"New post"})},u=n(281),b=n(33),p=n(279),d=n(280),O="CREATE_POST",h="DELETE_POST",x="UPDATE_POST",m=n(45),f=n.n(m),v=n(67),g=n(110),y=n(111),w=n(96),C=n.n(w),T=function(){function e(){Object(g.a)(this,e)}return Object(y.a)(e,null,[{key:"get",value:function(){var e=Object(v.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get("https://bloggy-api.herokuapp.com".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("https://bloggy-api.herokuapp.com".concat(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n,r){var a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.put("https://bloggy-api.herokuapp.com".concat(t,"/").concat(n),r);case 2:return a=e.sent,c=a.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteRequest",value:function(){var e=Object(v.a)(f.a.mark((function e(t,n){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.delete("https://bloggy-api.herokuapp.com".concat(t,"/").concat(n));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),k=T.post,E=T.deleteRequest,S=T.put,I=function(e){return{type:x,payload:{updatedPosts:e}}},N=n(285),_={labelCol:{span:8},wrapperCol:{span:16}},M=function(e){var t=e.hideModal,n=Object(s.b)();return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},_),{},{name:"nest-messages",onFinish:function(e){var r;e.id=Object(N.a)(),n((k("/posts",r=e),{type:O,payload:{value:r}})),t()},children:[Object(j.jsx)(p.a.Item,{name:["title"],label:"Title",rules:[{required:!0}],children:Object(j.jsx)(d.a,{})}),Object(j.jsx)(p.a.Item,{name:["body"],label:"Text",children:Object(j.jsx)(d.a.TextArea,{})}),Object(j.jsx)(p.a.Item,{wrapperCol:Object(b.a)(Object(b.a)({},_.wrapperCol),{},{offset:8}),children:Object(j.jsx)(i.a,{type:"primary",htmlType:"submit",children:"Add Post"})})]}))},D=function(e){var t=e.isModal,n=e.hideModal;return Object(j.jsx)(u.a,{title:"Write your post",visible:t,onCancel:n,footer:!1,children:Object(j.jsx)(M,{hideModal:n})})},A="SHOW_MODAL",L="HIDE_MODAL",P=n(286),F=n(278),H=n(57),X=(n.p,function(e){var t=e.body,n=e.title,r=e.id,a=Object(s.b)();return Object(j.jsx)(P.b,{direction:"vertical",children:Object(j.jsxs)(F.a,{style:{width:300},children:[Object(j.jsx)("div",{className:"img-container",children:Object(j.jsx)("img",{alt:"post-logo",className:"post-img",src:"https://www.thewowstyle.com/wp-content/uploads/2015/02/Beautiful-Wallpapers-14.jpg"})}),Object(j.jsx)("h2",{children:n}),Object(j.jsx)("p",{children:t}),Object(j.jsxs)("div",{className:"btn-container",children:[Object(j.jsx)(H.b,{to:"/post/".concat(r),children:Object(j.jsx)(i.a,{type:"primary",ghost:!0,children:"Read more"})}),Object(j.jsx)(i.a,{onClick:function(){return a(function(e){return E("/posts",e),{type:h,payload:{id:e}}}(r))},type:"danger",ghost:!0,children:"Delete"})]})]})})}),R=n(47),q=n(85),B={padding:"8px 0"},U=function(){var e=Object(s.c)((function(e){return e.posts})).map((function(e){return Object(j.jsx)(R.a,{style:B,className:"gutter-row",span:6,children:Object(j.jsx)(X,{body:e.body,title:e.title,id:e.id})},e.id)}));return Object(j.jsx)("div",{children:Object(j.jsx)(q.a,{gutter:{xs:8,sm:16,md:24,lg:32},children:e})})},V=function(){var e=Object(s.c)((function(e){return e.modal.isModal})),t=Object(s.b)();return Object(j.jsxs)("div",{children:[Object(j.jsx)(l,{className:"create-post-btn",showModal:function(){return t({type:A})}}),e&&Object(j.jsx)("div",{className:"list-container",children:Object(j.jsx)(D,{className:"modal",isModal:e,hideModal:function(){return t({type:L})}})}),Object(j.jsx)(U,{})]})},W=n(70),z=n(283),Y=n(84),J=n(276),G=n(282),K=n(160),Q=n.n(K),Z=d.a.TextArea,$=function(e){var t=e.onChange,n=e.onSubmit,r=e.submitting,a=e.value;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p.a.Item,{children:Object(j.jsx)(Z,{rows:4,onChange:t,value:a})}),Object(j.jsx)(p.a.Item,{children:Object(j.jsx)(i.a,{htmlType:"submit",loading:r,onClick:n,type:"primary",children:"Add Comment"})})]})},ee=n(277),te=function(e){var t=e.comment;return Object(j.jsx)(ee.b,{dataSource:t,header:"".concat(t.length," ").concat(t.length>1?"replies":"reply"),itemLayout:"horizontal",renderItem:function(e){return Object(j.jsx)(J.a,Object(b.a)({},e))}})},ne=function(){var e=Object(r.useState)([]),t=Object(W.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(W.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)(""),u=Object(W.a)(l,2),b=u[0],p=u[1];return Object(j.jsxs)(j.Fragment,{children:[n.length>0&&Object(j.jsx)(te,{comment:n}),Object(j.jsx)(J.a,{avatar:Object(j.jsx)(G.a,{src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:"Han Solo"}),content:Object(j.jsx)($,{onChange:function(e){p(e.target.value)},onSubmit:function(){b&&(i(!0),setTimeout((function(){i(!1),p(""),a([].concat(Object(Y.a)(n),[{author:"Han Solo",avatar:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",content:Object(j.jsx)("p",{children:b}),datetime:Q()().fromNow()}]))}),1e3))},submitting:o,value:b})})]})},re=n(287),ae=(n.p,{labelCol:{span:8},wrapperCol:{span:16}}),ce=function(e){var t=e.post,n=e.toogleModal,r=Object(s.b)();return Object(j.jsxs)(p.a,Object(b.a)(Object(b.a)({},ae),{},{name:"nest-messages",onFinish:function(e){var a,c;r((a=t.id,S("/posts",a,c=e),{type:"CHANGE_POST",payload:{updatedObject:c}})),n()},children:[Object(j.jsx)(p.a.Item,{name:["title"],label:"Title",children:Object(j.jsx)(d.a,{})}),Object(j.jsx)(p.a.Item,{name:["body"],label:"Text",children:Object(j.jsx)(d.a.TextArea,{})}),Object(j.jsx)(p.a.Item,{wrapperCol:Object(b.a)(Object(b.a)({},ae.wrapperCol),{},{offset:8}),children:Object(j.jsx)(i.a,{type:"primary",htmlType:"submit",children:"Update"})})]}))},se=T.get,oe=z.a.Header,ie=z.a.Footer,je=z.a.Content,le=function(){var e=Object(o.g)().id,t=Object(r.useState)(!1),n=Object(W.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)({}),l=Object(W.a)(s,2),b=l[0],p=l[1];Object(r.useEffect)((function(){se("/posts/".concat(e,"?_embed=comments")).then((function(e){return p(e)}))}),[]);var d=function(){c(!a)};return Object(j.jsxs)(z.a,{children:[Object(j.jsx)(oe,{children:Object(j.jsx)(H.b,{to:"/",children:Object(j.jsx)("p",{children:"Blog"})})}),Object(j.jsxs)(je,{className:"detailed-post",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"image-container",children:Object(j.jsx)("img",{className:"post-img",alt:"detailed-blog",src:"https://www.thewowstyle.com/wp-content/uploads/2015/02/Beautiful-Wallpapers-14.jpg"})}),Object(j.jsx)("div",{className:"text-container",children:Object(j.jsx)("h1",{children:b.title})}),Object(j.jsxs)("div",{className:"text-container",children:[Object(j.jsx)("p",{children:b.body}),Object(j.jsx)(i.a,{style:{marginLeft:"15px"},onClick:d,type:"primary",shape:"circle",icon:Object(j.jsx)(re.a,{})})]})]}),Object(j.jsx)(u.a,{title:"Update your post",visible:a,onCancel:d,footer:!1,children:Object(j.jsx)(ce,{toogleModal:d,post:b})})]}),Object(j.jsx)(ie,{className:"detailed-post",children:Object(j.jsx)(ne,{post:b.comments})})]})},ue=n(284),be=function(e){var t=e.errorInfo,n=e.error,r=(e.eventId,Object(o.f)());return Object(j.jsx)(ue.a,{status:"warning",title:n.message||"There are some problems with your operation.",extra:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(q.a,{gutter:[16,16],justify:"center",children:Object(j.jsx)(R.a,{spn:16,children:Object(j.jsx)("p",{children:t&&t.componentStack.toString()||"Error info"})})}),Object(j.jsx)(i.a,{style:{width:160},type:"primary",onClick:function(){r.push("/")},children:"Return to Home"},"err_return-home")]})})},pe=function(){return Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{exact:!0,path:"/",component:V}),Object(j.jsx)(o.a,{exact:!0,path:"/post/:id",component:le}),Object(j.jsx)(o.a,{exact:!0,path:"/error",component:be}),Object(j.jsx)(o.a,{exact:!0,path:"*",render:function(){return Object(j.jsx)("h1",{children:"You are on the wrong page"})}})]})},de=T.get;var Oe=function(){var e=Object(s.b)();return Object(r.useEffect)((function(){!function(e){function t(){return(t=Object(v.a)(f.a.mark((function t(){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de("/posts");case 2:n=t.sent,e(I(n));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}(e)}),[]),Object(j.jsx)("div",{className:"app",children:Object(j.jsx)(pe,{})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,288)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},xe=n(171),me=n(167),fe=function(e){Object(xe.a)(n,e);var t=Object(me.a)(n);function n(e){var r;return Object(g.a)(this,n),(r=t.call(this,e)).state={error:"",eventId:"",errorInfo:"",hasError:!1},r}return Object(y.a)(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,hasError:!0})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.errorInfo,r=e.error,a=e.eventId;return t?Object(j.jsx)(be,{errorInfo:n,error:r,eventI:a}):this.props.children}}]),n}(r.PureComponent),ve=n(62),ge={isModal:!1};var ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(b.a)(Object(b.a)({},e),{},{isModal:!0});case L:return ge;default:return e}},we=[];function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return[].concat(Object(Y.a)(e),[t.payload.value]);case h:return e.filter((function(e){return e.id!==t.payload.id}));case x:return[].concat(Object(Y.a)(e),Object(Y.a)(t.payload.updatedPosts));default:return e}}var Te=Object(ve.c)({modal:ye,posts:Ce}),ke=n(163),Ee=window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e},Se=Object(ve.e)(Te,Object(ve.d)(Object(ve.a)(ke.a),Ee));c.a.render(Object(j.jsx)(s.a,{store:Se,children:Object(j.jsx)(H.a,{children:Object(j.jsx)(fe,{children:Object(j.jsx)(Oe,{})})})}),document.getElementById("root")),he()}},[[272,1,2]]]);
//# sourceMappingURL=main.72b70523.chunk.js.map